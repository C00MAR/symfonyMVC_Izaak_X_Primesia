{% extends 'base.html.twig' %}

{% block title %}Mon Profil{% endblock %}

{% block body %}
    {% if app.user %}
        <h1>Modifier mon profil</h1>

        <span>{{ 'Hello'|trans }} {{ app.user.firstname }} ({{ app.user.points }} {{ 'user.points'|trans }})</span>
        
        <div>
            <p><strong>Email:</strong> {{ app.user.email }}</p>
            <p><strong>Points:</strong> {{ app.user.points }}</p>
            <p><strong>Statut:</strong> {{ app.user.actif ? 'Actif' : 'Désactivé' }}</p>
        </div>

        {{ form_start(form) }}
            <div>
                {{ form_label(form.firstname, 'Prénom') }}
                {{ form_widget(form.firstname) }}
                {{ form_errors(form.firstname) }}
            </div>
            
            <div>
                {{ form_label(form.lastname, 'Nom') }}
                {{ form_widget(form.lastname) }}
                {{ form_errors(form.lastname) }}
            </div>
            
            <button type="submit">Mettre à jour</button>
        {{ form_end(form) }}
        
        <a href="{{ path('app_home') }}">← Retour à l'accueil</a>

        <a href="{{ path('app_logout') }}">Déconnexion</a>
    {% else %}
        <a href="{{ path('app_login') }}">Connexion</a>
        <a href="{{ path('app_register') }}">Inscription</a>    
    {% endif %}
{% endblock %}
